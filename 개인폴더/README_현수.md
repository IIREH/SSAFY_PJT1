# 01-10

### 내부 동작 설계

1. ​

2. 인덱스는 랜덤 
   - 뮤지컬,공연,팔로우한거... 고르게.


1. 사람이 검색되면, 추천하고싶은 작품 1개 
   - 사람관련글
2. 작품이 검색되면, 작품글
   - 작품관련글


팔로우한사람을 우선순위로 보여주던가



#01-12

### skeleton 코드 완료

1. 후기

   - 생각보다 에러가 많이 나게 만들어 놓은 것 같다. 

   - 또한 문서 자체도 생략 되는 부분이 많아서 스스로 생각해야 코드를 열 수 있습니다.

   - docker를 명령어가 아닌, -yml 파일을 같이 배포했으면, 시간이 더 단축 됐을거라고 생각함.

   - validation은 우선 서비스정책에 따라, 정할 생각이며, 다른 라이브러리를 써볼 생각함.

   - 그냥 mysql 하는법으로 해도 될듯(생각보다 복잡함.)

     ​

2. 설치

   1. 도커 설치 (wsl2로 설치하는게 성능적으로 좋다지만, 귀찮으면 가상화 키는게 나을듯.)

   2. 마리아 db를 yml로 하나 만들어서 돌리기.

   3. maven에  maria db 관련 jdbc 와 라이브러리(mariadb-java-client) 설치.

   4. 마리아 db에 관련 값을 넣어주면, 초기 세팅은 되는듯 함.

      ​

### batch 공부

1. 현 상태
   - 개념은 읽었고, 해보면서 익힐 예정.



# 01-13

### batch 공부

1. 현상태

   진행중에 docker mongodb 연결에 막힌 상태.



### mongodb

1.  써볼려고하지만, 삽질중.

    ​

# 01-14

### mongodb

1. 설정에 삽질을 너무함.
2. 아직도 해결을 못하고 있음.
3. 하도 안되서 로컬로 할려고했는데, 이것도 맘대로 잘안되네요.
4. 후순위로 밀려야하나 고민중

### 백엔드 회의

1. 레디스는 써보자라는 이야기함.



# 백엔드 데이터 필요요소

유저

- 이메일

- 이름

- 닉네임

- 비밀번호

- 게시글들

- 좋아요 누른 글들

- 탈퇴 여부

- 탈퇴 사유

- 팔로우한 사람들

  ​

연극

- 이름

- 일시

- 장소

- 출연배우들

- 설명

- 예약링크

  ​

게시글

- 작성일
- 사진들? 사진
- 해시태그들
- 댓글들
- 좋아요



댓글

- 이름
- 내용

의문점

- 팔로잉, 팔로우 나눌거임?
- 팔로잉수 보여줄건지??



# 01-17

### Spring security

1. 좋은 아키택처로 유인.

   - spring security는 좋은 아키택처로 유인하는 느낌을 받았다

     - userNameAndPasswordAuthenticationToken 발급.

     - UserNamePasswordToken을 AuthenticaitionManager에 전달

     - manager가 provider에게 전달

     - UserDetailsService로 조회할 아이디를 전달

     - 조회후, 역순으로 다시감.

     - 인증된 토큰은 SecurityContextHolder에 저장 한다고 함.

       ​

   2. 궁금한 점

      - 세션저장과 securityContextHolder 저장은 차이가있는지 궁금함.

        ​	- 아마 securityConextextHolder는 인증다음부터는 캐싱 되는 것같긴한데 정확하진않음.

# 02-11

### 알림 기능설계

- 상당히 고민하면서 만들고있음.

- 메시지큐나 웹소켓등을 사용하면,  더 좋은 프로그래밍이 될것같지만, 지금은 그것을 이해할수있는 수준이 안될 것같음.

- 그래서 우선 디비쪽에 TTL을 지정해줘서 할려고 하고있음.

- 근데 문제가 알림 기능서비스를 인터페이스로 만들어서 알림 기능을 넣어줘야할지 살짝 애매했음.

- 그리고 기존에있던 메소드들도 aop나 프록시 패턴을 써야하나 고민중에 있음.

  ​